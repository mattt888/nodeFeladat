<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fájlműveletek</title>
    <style>
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }
    </style>
</head>
<body>
    <h1>Fájlműveletek</h1>

    <h2>Fájl beolvasás</h2>
    <h3>szinkron</h3>
    <form method="post" enctype="multipart/form-data">
        <label for="file"></label>
        <input id="file" name="file" type="file"> 
        <br><br>
        <button type="submit">Beolvas szinkron</button>
    </form>
    <hr>
   
    <h3>Aszinkron</h3>
    <form method="post" enctype="multipart/form-data">
        <label for="file"></label>
        <input id="file" name="file" type="file"> 
        <br><br>
        <button type="submit" id="async">Beolvas Aszinkron</button>
    </form>
    <hr>

    <h2>Fájl írás</h2>
    <button>Írás szinkron</button>
    <button>Írás Aszinkron</button>

    <h2>Fájl másolás</h2>
    <button>Másolás szinkron</button>
    <button>Másolás Aszinkron</button>

    <script>
        document.getElementById("async").addEventListener("click", readAsync)

        function readAsync (){
            let sent = ''

            req.on('data', chunk => {
            sent += chunk
            console.log('Feltöltött fájl tartalma: ' , sent)
            })

            req.on('end', () => {
                res.writeHead(302, {Location: '/'})
                res.end()
        
                // log('Hiba az átirányítás során')
                const now = new Date().toLocaleString('hu-HU')
                console.log(now)
            })
        }
    </script>

</body>
</html>